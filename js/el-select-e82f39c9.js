import{bC as dn,ar as Tl,bD as cn,aP as ue,aW as pe,bE as fn,ao as Jl,v as Ue,aF as pn,x as Zl,R as Dl,ak as xl,P as _,bF as vn,aT as Vl,D as Y,aR as wl,b8 as mn,aU as Ie,br as yl,aS as bn,y as _l,d as ee,A as S,o as O,c as N,e as D,m as J,n as E,u as A,I as H,j as I,i as X,bf as zl,X as Q,N as Ll,k as K,Y as x,a9 as Ye,_ as ke,Z as en,z as Nl,aJ as ge,s as Fe,an as je,ay as G,U as kl,r as Me,aO as Qe,L as W,f as he,aY as Xe,t as ae,h as P,aX as ln,Q as Ml,b9 as Wl,ab as fe,bG as Le,ad as gn,bH as Cl,aN as Ge,E as Hl,aj as Je,M as Pl,bp as hn,O as yn,q as nn,bI as Cn,H as ie,a as Sn,F as Pe,b as Sl,a3 as j,a2 as On,S as En,W as Rl,$ as tn,bJ as Tn,b1 as wn,bK as Ln}from"./index-b92ab863.js";import{t as In,d as kn}from"./error-78e43d3e.js";import{E as Mn,b as $n,a as An,f as Bn}from"./el-scrollbar-f2c1b35f.js";import{i as Dn,E as Vn}from"./el-form-item-06433b22.js";import{a as on,b as zn}from"./use-form-item-106f16de.js";import{u as Nn}from"./el-button-f4f5d384.js";import{U as re,C as sn}from"./event-9519ab40.js";import{i as Kl}from"./isEqual-fc81d51d.js";var Wn=/\s/;function Hn(e){for(var l=e.length;l--&&Wn.test(e.charAt(l)););return l}var Pn=/^\s+/;function Rn(e){return e&&e.slice(0,Hn(e)+1).replace(Pn,"")}var ql=0/0,Kn=/^[-+]0x[0-9a-f]+$/i,qn=/^0b[01]+$/i,Yn=/^0o[0-7]+$/i,Fn=parseInt;function Yl(e){if(typeof e=="number")return e;if(dn(e))return ql;if(Tl(e)){var l=typeof e.valueOf=="function"?e.valueOf():e;e=Tl(l)?l+"":l}if(typeof e!="string")return e===0?e:+e;e=Rn(e);var n=qn.test(e);return n||Yn.test(e)?Fn(e.slice(2),n?2:8):Kn.test(e)?ql:+e}var jn=function(){return cn.Date.now()};const Ol=jn;var Gn="Expected a function",Un=Math.max,Qn=Math.min;function Fl(e,l,n){var i,r,u,s,c,d,b=0,v=!1,m=!1,f=!0;if(typeof e!="function")throw new TypeError(Gn);l=Yl(l)||0,Tl(n)&&(v=!!n.leading,m="maxWait"in n,u=m?Un(Yl(n.maxWait)||0,l):u,f="trailing"in n?!!n.trailing:f);function h(w){var V=i,R=r;return i=r=void 0,b=w,s=e.apply(R,V),s}function C(w){return b=w,c=setTimeout(T,l),v?h(w):s}function a(w){var V=w-d,R=w-b,F=l-V;return m?Qn(F,u-R):F}function g(w){var V=w-d,R=w-b;return d===void 0||V>=l||V<0||m&&R>=u}function T(){var w=Ol();if(g(w))return $(w);c=setTimeout(T,a(w))}function $(w){return c=void 0,f&&i?h(w):(i=r=void 0,s)}function le(){c!==void 0&&clearTimeout(c),b=0,i=d=r=c=void 0}function q(){return c===void 0?s:$(Ol())}function Z(){var w=Ol(),V=g(w);if(i=arguments,r=this,d=w,V){if(c===void 0)return C(d);if(m)return clearTimeout(c),c=setTimeout(T,l),h(d)}return c===void 0&&(c=setTimeout(T,l)),s}return Z.cancel=le,Z.flush=q,Z}const Xn=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Jn=(e,l)=>{if(!ue)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(l)],i=pe(e,n);return["scroll","auto","overlay"].some(r=>i.includes(r))},Yt=(e,l)=>{if(!ue)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Jn(n,l))return n;n=n.parentNode}return n};let Re;const Zn=e=>{var l;if(!ue)return 0;if(Re!==void 0)return Re;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const i=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const u=r.offsetWidth;return(l=n.parentNode)==null||l.removeChild(n),Re=i-u,Re};function xn(e,l){if(!ue)return;if(!l){e.scrollTop=0;return}const n=[];let i=l.offsetParent;for(;i!==null&&e!==i&&e.contains(i);)n.push(i),i=i.offsetParent;const r=l.offsetTop+n.reduce((d,b)=>d+b.offsetTop,0),u=r+l.offsetHeight,s=e.scrollTop,c=s+e.clientHeight;r<s?e.scrollTop=r:u>c&&(e.scrollTop=u-e.clientHeight)}const _n=e=>fn[e||"default"],et=e=>["",...Jl].includes(e);var qe=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(qe||{});const Ft=(e,l,n)=>{let i={offsetX:0,offsetY:0};const r=c=>{const d=c.clientX,b=c.clientY,{offsetX:v,offsetY:m}=i,f=e.value.getBoundingClientRect(),h=f.left,C=f.top,a=f.width,g=f.height,T=document.documentElement.clientWidth,$=document.documentElement.clientHeight,le=-h+v,q=-C+m,Z=T-h-a+v,w=$-C-g+m,V=F=>{const k=Math.min(Math.max(v+F.clientX-d,le),Z),ve=Math.min(Math.max(m+F.clientY-b,q),w);i={offsetX:k,offsetY:ve},e.value.style.transform=`translate(${Dl(k)}, ${Dl(ve)})`},R=()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",V),document.addEventListener("mouseup",R)},u=()=>{l.value&&e.value&&l.value.addEventListener("mousedown",r)},s=()=>{l.value&&e.value&&l.value.removeEventListener("mousedown",r)};Ue(()=>{pn(()=>{n.value?u():s()})}),Zl(()=>{s()})},lt=e=>({focus:()=>{var l,n;(n=(l=e.value)==null?void 0:l.focus)==null||n.call(l)}}),jt=(e,l={})=>{xl(e)||In("[useLockscreen]","You need to pass a ref param to this function");const n=l.ns||_("popup"),i=vn(()=>n.bm("parent","hidden"));if(!ue||Vl(document.body,i.value))return;let r=0,u=!1,s="0";const c=()=>{setTimeout(()=>{Ie(document==null?void 0:document.body,i.value),u&&document&&(document.body.style.width=s)},200)};Y(e,d=>{if(!d){c();return}u=!Vl(document.body,i.value),u&&(s=document.body.style.width),r=Zn(n.namespace.value);const b=document.documentElement.clientHeight<document.body.scrollHeight,v=pe(document.body,"overflowY");r>0&&(b||v==="scroll")&&u&&(document.body.style.width=`calc(100% - ${r}px)`),wl(document.body,i.value)}),mn(()=>c())},nt=e=>{if(!e)return{onClick:yl,onMousedown:yl,onMouseup:yl};let l=!1,n=!1;return{onClick:s=>{l&&n&&e(s),l=n=!1},onMousedown:s=>{l=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},se=new Map;let jl;ue&&(document.addEventListener("mousedown",e=>jl=e),document.addEventListener("mouseup",e=>{for(const l of se.values())for(const{documentHandler:n}of l)n(e,jl)}));function Gl(e,l){let n=[];return Array.isArray(l.arg)?n=l.arg:bn(l.arg)&&n.push(l.arg),function(i,r){const u=l.instance.popperRef,s=i.target,c=r==null?void 0:r.target,d=!l||!l.instance,b=!s||!c,v=e.contains(s)||e.contains(c),m=e===s,f=n.length&&n.some(C=>C==null?void 0:C.contains(s))||n.length&&n.includes(c),h=u&&(u.contains(s)||u.contains(c));d||b||v||m||f||h||l.value(i,r)}}const tt={beforeMount(e,l){se.has(e)||se.set(e,[]),se.get(e).push({documentHandler:Gl(e,l),bindingFn:l.value})},updated(e,l){se.has(e)||se.set(e,[]);const n=se.get(e),i=n.findIndex(u=>u.bindingFn===l.oldValue),r={documentHandler:Gl(e,l),bindingFn:l.value};i>=0?n.splice(i,1,r):n.push(r)},unmounted(e){se.delete(e)}},an=_l({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:Jl,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),ot={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},it=ee({name:"ElTag"}),st=ee({...it,props:an,emits:ot,setup(e,{emit:l}){const n=e,i=on(),r=_("tag"),u=S(()=>{const{type:d,hit:b,effect:v,closable:m,round:f}=n;return[r.b(),r.is("closable",m),r.m(d),r.m(i.value),r.m(v),r.is("hit",b),r.is("round",f)]}),s=d=>{l("close",d)},c=d=>{l("click",d)};return(d,b)=>d.disableTransitions?(O(),N("span",{key:0,class:E(A(u)),style:x({backgroundColor:d.color}),onClick:c},[D("span",{class:E(A(r).e("content"))},[J(d.$slots,"default")],2),d.closable?(O(),H(A(Ll),{key:0,class:E(A(r).e("close")),onClick:Q(s,["stop"])},{default:I(()=>[X(A(zl))]),_:1},8,["class","onClick"])):K("v-if",!0)],6)):(O(),H(Ye,{key:1,name:`${A(r).namespace.value}-zoom-in-center`,appear:""},{default:I(()=>[D("span",{class:E(A(u)),style:x({backgroundColor:d.color}),onClick:c},[D("span",{class:E(A(r).e("content"))},[J(d.$slots,"default")],2),d.closable?(O(),H(A(Ll),{key:0,class:E(A(r).e("close")),onClick:Q(s,["stop"])},{default:I(()=>[X(A(zl))]),_:1},8,["class","onClick"])):K("v-if",!0)],6)]),_:3},8,["name"]))}});var at=ke(st,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const rt=en(at),ut=_l({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Nl([String,Array,Object])},zIndex:{type:Nl([String,Number])}}),dt={click:e=>e instanceof MouseEvent},ct="overlay";var ft=ee({name:"ElOverlay",props:ut,emits:dt,setup(e,{slots:l,emit:n}){const i=_(ct),r=d=>{n("click",d)},{onClick:u,onMousedown:s,onMouseup:c}=nt(e.customMaskEvent?void 0:r);return()=>e.mask?X("div",{class:[i.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:s,onMouseup:c},[J(l,"default")],qe.STYLE|qe.CLASS|qe.PROPS,["onClick","onMouseup","onMousedown"]):ge("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[J(l,"default")])}});const Gt=ft,rn=Symbol("ElSelectGroup"),Ze=Symbol("ElSelect");function pt(e,l){const n=Fe(Ze),i=Fe(rn,{disabled:!1}),r=S(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),u=S(()=>n.props.multiple?m(n.props.modelValue,e.value):f(e.value,n.props.modelValue)),s=S(()=>{if(n.props.multiple){const a=n.props.modelValue||[];return!u.value&&a.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),c=S(()=>e.label||(r.value?"":e.value)),d=S(()=>e.value||e.label||""),b=S(()=>e.disabled||l.groupDisabled||s.value),v=kl(),m=(a=[],g)=>{if(r.value){const T=n.props.valueKey;return a&&a.some($=>je(G($,T))===G(g,T))}else return a&&a.includes(g)},f=(a,g)=>{if(r.value){const{valueKey:T}=n.props;return G(a,T)===G(g,T)}else return a===g},h=()=>{!e.disabled&&!i.disabled&&(n.hoverIndex=n.optionsArray.indexOf(v.proxy))};Y(()=>c.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),Y(()=>e.value,(a,g)=>{const{remote:T,valueKey:$}=n.props;if(Object.is(a,g)||(n.onOptionDestroy(g,v.proxy),n.onOptionCreate(v.proxy)),!e.created&&!T){if($&&typeof a=="object"&&typeof g=="object"&&a[$]===g[$])return;n.setSelected()}}),Y(()=>i.disabled,()=>{l.groupDisabled=i.disabled},{immediate:!0});const{queryChange:C}=je(n);return Y(C,a=>{const{query:g}=A(a),T=new RegExp(Xn(g),"i");l.visible=T.test(c.value)||e.created,l.visible||n.filteredOptionsCount--},{immediate:!0}),{select:n,currentLabel:c,currentValue:d,itemSelected:u,isDisabled:b,hoverItem:h}}const vt=ee({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const l=_("select"),n=Me({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:i,itemSelected:r,isDisabled:u,select:s,hoverItem:c}=pt(e,n),{visible:d,hover:b}=Qe(n),v=kl().proxy;s.onOptionCreate(v),Zl(()=>{const f=v.value,{selected:h}=s,a=(s.props.multiple?h:[h]).some(g=>g.value===v.value);W(()=>{s.cachedOptions.get(f)===v&&!a&&s.cachedOptions.delete(f)}),s.onOptionDestroy(f,v)});function m(){e.disabled!==!0&&n.groupDisabled!==!0&&s.handleOptionSelect(v)}return{ns:l,currentLabel:i,itemSelected:r,isDisabled:u,select:s,hoverItem:c,visible:d,hover:b,selectOptionClick:m,states:n}}});function mt(e,l,n,i,r,u){return he((O(),N("li",{class:E([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:l[0]||(l[0]=(...s)=>e.hoverItem&&e.hoverItem(...s)),onClick:l[1]||(l[1]=Q((...s)=>e.selectOptionClick&&e.selectOptionClick(...s),["stop"]))},[J(e.$slots,"default",{},()=>[D("span",null,ae(e.currentLabel),1)])],34)),[[Xe,e.visible]])}var $l=ke(vt,[["render",mt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const bt=ee({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Fe(Ze),l=_("select"),n=S(()=>e.props.popperClass),i=S(()=>e.props.multiple),r=S(()=>e.props.fitInputWidth),u=P("");function s(){var c;u.value=`${(c=e.selectWrapper)==null?void 0:c.offsetWidth}px`}return Ue(()=>{s(),ln(e.selectWrapper,s)}),{ns:l,minWidth:u,popperClass:n,isMultiple:i,isFitInputWidth:r}}});function gt(e,l,n,i,r,u){return O(),N("div",{class:E([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:x({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[J(e.$slots,"default")],6)}var ht=ke(bt,[["render",gt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function yt(e){const{t:l}=Ml();return Me({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1})}let El=!1;const Ct=(e,l,n)=>{const{t:i}=Ml(),r=_("select");Nn({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},S(()=>e.suffixTransition===!1));const u=P(null),s=P(null),c=P(null),d=P(null),b=P(null),v=P(null),m=P(null),f=P(-1),h=Wl({query:""}),C=Wl(""),a=P([]);let g=0;const{form:T,formItem:$}=zn(),le=S(()=>!e.filterable||e.multiple||!l.visible),q=S(()=>e.disabled||(T==null?void 0:T.disabled)),Z=S(()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!q.value&&l.inputHovering&&t}),w=S(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),V=S(()=>r.is("reverse",w.value&&l.visible&&e.suffixTransition)),R=S(()=>e.remote?300:0),F=S(()=>e.loading?e.loadingText||i("el.select.loading"):e.remote&&l.query===""&&l.options.size===0?!1:e.filterable&&l.query&&l.options.size>0&&l.filteredOptionsCount===0?e.noMatchText||i("el.select.noMatch"):l.options.size===0?e.noDataText||i("el.select.noData"):null),k=S(()=>{const t=Array.from(l.options.values()),o=[];return a.value.forEach(p=>{const y=t.findIndex(B=>B.currentLabel===p);y>-1&&o.push(t[y])}),o.length?o:t}),ve=S(()=>Array.from(l.cachedOptions.values())),xe=S(()=>{const t=k.value.filter(o=>!o.created).some(o=>o.currentLabel===l.query);return e.filterable&&e.allowCreate&&l.query!==""&&!t}),de=on(),_e=S(()=>["small"].includes(de.value)?"small":"default"),el=S({get(){return l.visible&&F.value!==!1},set(t){l.visible=t}});Y([()=>q.value,()=>de.value,()=>T==null?void 0:T.size],()=>{W(()=>{U()})}),Y(()=>e.placeholder,t=>{l.cachedPlaceHolder=l.currentPlaceholder=t,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(l.currentPlaceholder="")}),Y(()=>e.modelValue,(t,o)=>{e.multiple&&(U(),t&&t.length>0||s.value&&l.query!==""?l.currentPlaceholder="":l.currentPlaceholder=l.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(l.query="",ne(l.query))),ye(),e.filterable&&!e.multiple&&(l.inputLength=20),!Kl(t,o)&&e.validateEvent&&($==null||$.validate("change").catch(p=>kn()))},{flush:"post",deep:!0}),Y(()=>l.visible,t=>{var o,p,y,B,z;t?((p=(o=d.value)==null?void 0:o.updatePopper)==null||p.call(o),e.filterable&&(l.filteredOptionsCount=l.optionsCount,l.query=e.remote?"":l.selectedLabel,(B=(y=c.value)==null?void 0:y.focus)==null||B.call(y),e.multiple?(z=s.value)==null||z.focus():l.selectedLabel&&(l.currentPlaceholder=`${l.selectedLabel}`,l.selectedLabel=""),ne(l.query),!e.multiple&&!e.remote&&(h.value.query="",Le(h),Le(C)))):(e.filterable&&(fe(e.filterMethod)&&e.filterMethod(""),fe(e.remoteMethod)&&e.remoteMethod("")),s.value&&s.value.blur(),l.query="",l.previousQuery=null,l.selectedLabel="",l.inputLength=20,l.menuVisibleOnFocus=!1,ll(),W(()=>{s.value&&s.value.value===""&&l.selected.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}),e.multiple||(l.selected&&(e.filterable&&e.allowCreate&&l.createdSelected&&l.createdLabel?l.selectedLabel=l.createdLabel:l.selectedLabel=l.selected.currentLabel,e.filterable&&(l.query=l.selectedLabel)),e.filterable&&(l.currentPlaceholder=l.cachedPlaceHolder))),n.emit("visible-change",t)}),Y(()=>l.options.entries(),()=>{var t,o,p;if(!ue)return;(o=(t=d.value)==null?void 0:t.updatePopper)==null||o.call(t),e.multiple&&U();const y=((p=v.value)==null?void 0:p.querySelectorAll("input"))||[];Array.from(y).includes(document.activeElement)||ye(),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&Ae()},{flush:"post"}),Y(()=>l.hoverIndex,t=>{gn(t)&&t>-1?f.value=k.value[t]||{}:f.value={},k.value.forEach(o=>{o.hover=f.value===o})});const U=()=>{W(()=>{var t,o;if(!u.value)return;const p=u.value.$el.querySelector("input");g=g||(p.clientHeight>0?p.clientHeight+2:0);const y=b.value,B=_n(de.value||(T==null?void 0:T.size)),z=de.value||B===g||g<=0?B:g;!(p.offsetParent===null)&&(p.style.height=`${(l.selected.length===0?z:Math.max(y?y.clientHeight+(y.clientHeight>z?6:0):0,z))-2}px`),l.visible&&F.value!==!1&&((o=(t=d.value)==null?void 0:t.updatePopper)==null||o.call(t))})},ne=async t=>{if(!(l.previousQuery===t||l.isOnComposition)){if(l.previousQuery===null&&(fe(e.filterMethod)||fe(e.remoteMethod))){l.previousQuery=t;return}l.previousQuery=t,W(()=>{var o,p;l.visible&&((p=(o=d.value)==null?void 0:o.updatePopper)==null||p.call(o))}),l.hoverIndex=-1,e.multiple&&e.filterable&&W(()=>{const o=s.value.value.length*15+20;l.inputLength=e.collapseTags?Math.min(50,o):o,$e(),U()}),e.remote&&fe(e.remoteMethod)?(l.hoverIndex=-1,e.remoteMethod(t)):fe(e.filterMethod)?(e.filterMethod(t),Le(C)):(l.filteredOptionsCount=l.optionsCount,h.value.query=t,Le(h),Le(C)),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&(await W(),Ae())}},$e=()=>{l.currentPlaceholder!==""&&(l.currentPlaceholder=s.value.value?"":l.cachedPlaceHolder)},Ae=()=>{const t=k.value.filter(y=>y.visible&&!y.disabled&&!y.states.groupDisabled),o=t.find(y=>y.created),p=t[0];l.hoverIndex=Ve(k.value,o||p)},ye=()=>{var t;if(e.multiple)l.selectedLabel="";else{const p=Be(e.modelValue);(t=p.props)!=null&&t.created?(l.createdLabel=p.props.value,l.createdSelected=!0):l.createdSelected=!1,l.selectedLabel=p.currentLabel,l.selected=p,e.filterable&&(l.query=l.selectedLabel);return}const o=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(p=>{o.push(Be(p))}),l.selected=o,W(()=>{U()})},Be=t=>{let o;const p=Cl(t).toLowerCase()==="object",y=Cl(t).toLowerCase()==="null",B=Cl(t).toLowerCase()==="undefined";for(let L=l.cachedOptions.size-1;L>=0;L--){const M=ve.value[L];if(p?G(M.value,e.valueKey)===G(t,e.valueKey):M.value===t){o={value:t,currentLabel:M.currentLabel,isDisabled:M.isDisabled};break}}if(o)return o;const z=p?t.label:!y&&!B?t:"",oe={value:t,currentLabel:z};return e.multiple&&(oe.hitState=!1),oe},ll=()=>{setTimeout(()=>{const t=e.valueKey;e.multiple?l.selected.length>0?l.hoverIndex=Math.min.apply(null,l.selected.map(o=>k.value.findIndex(p=>G(p,t)===G(o,t)))):l.hoverIndex=-1:l.hoverIndex=k.value.findIndex(o=>Te(o)===Te(l.selected))},300)},nl=()=>{var t,o;tl(),(o=(t=d.value)==null?void 0:t.updatePopper)==null||o.call(t),e.multiple&&U()},tl=()=>{var t;l.inputWidth=(t=u.value)==null?void 0:t.$el.offsetWidth},ol=()=>{e.filterable&&l.query!==l.selectedLabel&&(l.query=l.selectedLabel,ne(l.query))},il=Fl(()=>{ol()},R.value),sl=Fl(t=>{ne(t.target.value)},R.value),ce=t=>{Kl(e.modelValue,t)||n.emit(sn,t)},me=t=>{if(t.code!==Hl.delete){if(t.target.value.length<=0&&!Oe()){const o=e.modelValue.slice();o.pop(),n.emit(re,o),ce(o)}t.target.value.length===1&&e.modelValue.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}},al=(t,o)=>{const p=l.selected.indexOf(o);if(p>-1&&!q.value){const y=e.modelValue.slice();y.splice(p,1),n.emit(re,y),ce(y),n.emit("remove-tag",o.value)}t.stopPropagation()},De=t=>{t.stopPropagation();const o=e.multiple?[]:"";if(!Je(o))for(const p of l.selected)p.isDisabled&&o.push(p.value);n.emit(re,o),ce(o),l.hoverIndex=-1,l.visible=!1,n.emit("clear")},Ce=t=>{var o;if(e.multiple){const p=(e.modelValue||[]).slice(),y=Ve(p,t.value);y>-1?p.splice(y,1):(e.multipleLimit<=0||p.length<e.multipleLimit)&&p.push(t.value),n.emit(re,p),ce(p),t.created&&(l.query="",ne(""),l.inputLength=20),e.filterable&&((o=s.value)==null||o.focus())}else n.emit(re,t.value),ce(t.value),l.visible=!1;Se(),!l.visible&&W(()=>{be(t)})},Ve=(t=[],o)=>{if(!Ge(o))return t.indexOf(o);const p=e.valueKey;let y=-1;return t.some((B,z)=>je(G(B,p))===G(o,p)?(y=z,!0):!1),y},Se=()=>{const t=s.value||u.value;t&&(t==null||t.focus())},be=t=>{var o,p,y,B,z;const oe=Array.isArray(t)?t[0]:t;let L=null;if(oe!=null&&oe.value){const M=k.value.filter(Bl=>Bl.value===oe.value);M.length>0&&(L=M[0].$el)}if(d.value&&L){const M=(B=(y=(p=(o=d.value)==null?void 0:o.popperRef)==null?void 0:p.contentRef)==null?void 0:y.querySelector)==null?void 0:B.call(y,`.${r.be("dropdown","wrap")}`);M&&xn(M,L)}(z=m.value)==null||z.handleScroll()},rl=t=>{l.optionsCount++,l.filteredOptionsCount++,l.options.set(t.value,t),l.cachedOptions.set(t.value,t)},ul=(t,o)=>{l.options.get(t)===o&&(l.optionsCount--,l.filteredOptionsCount--,l.options.delete(t))},dl=t=>{t.code!==Hl.backspace&&Oe(!1),l.inputLength=s.value.value.length*15+20,U()},Oe=t=>{if(!Array.isArray(l.selected))return;const o=l.selected[l.selected.length-1];if(o)return t===!0||t===!1?(o.hitState=t,t):(o.hitState=!o.hitState,o.hitState)},cl=t=>{const o=t.target.value;if(t.type==="compositionend")l.isOnComposition=!1,W(()=>ne(o));else{const p=o[o.length-1]||"";l.isOnComposition=!Dn(p)}},fl=()=>{W(()=>be(l.selected))},pl=t=>{El?El=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!l.visible&&(l.menuVisibleOnFocus=!0),l.visible=!0),n.emit("focus",t))},te=()=>{var t,o,p;l.visible=!1,(t=u.value)==null||t.blur(),(p=(o=c.value)==null?void 0:o.blur)==null||p.call(o)},ze=t=>{setTimeout(()=>{var o;if((o=d.value)!=null&&o.isFocusInsideContent()){El=!0;return}l.visible&&Ee(),n.emit("blur",t)})},vl=t=>{De(t)},Ee=()=>{l.visible=!1},ml=t=>{l.visible&&(t.preventDefault(),t.stopPropagation(),l.visible=!1)},Ne=t=>{var o;t&&!l.mouseEnter||q.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:(!d.value||!d.value.isFocusInsideContent())&&(l.visible=!l.visible),l.visible&&((o=s.value||u.value)==null||o.focus()))},We=()=>{l.visible?k.value[l.hoverIndex]&&Ce(k.value[l.hoverIndex]):Ne()},Te=t=>Ge(t.value)?G(t.value,e.valueKey):t.value,bl=S(()=>k.value.filter(t=>t.visible).every(t=>t.disabled)),we=S(()=>l.selected.slice(0,e.maxCollapseTags)),gl=S(()=>l.selected.slice(e.maxCollapseTags)),He=t=>{if(!l.visible){l.visible=!0;return}if(!(l.options.size===0||l.filteredOptionsCount===0)&&!l.isOnComposition&&!bl.value){t==="next"?(l.hoverIndex++,l.hoverIndex===l.options.size&&(l.hoverIndex=0)):t==="prev"&&(l.hoverIndex--,l.hoverIndex<0&&(l.hoverIndex=l.options.size-1));const o=k.value[l.hoverIndex];(o.disabled===!0||o.states.groupDisabled===!0||!o.visible)&&He(t),W(()=>be(f.value))}};return{optionList:a,optionsArray:k,selectSize:de,handleResize:nl,debouncedOnInputChange:il,debouncedQueryChange:sl,deletePrevTag:me,deleteTag:al,deleteSelected:De,handleOptionSelect:Ce,scrollToOption:be,readonly:le,resetInputHeight:U,showClose:Z,iconComponent:w,iconReverse:V,showNewOption:xe,collapseTagSize:_e,setSelected:ye,managePlaceholder:$e,selectDisabled:q,emptyText:F,toggleLastOptionHitState:Oe,resetInputState:dl,handleComposition:cl,onOptionCreate:rl,onOptionDestroy:ul,handleMenuEnter:fl,handleFocus:pl,blur:te,handleBlur:ze,handleClearClick:vl,handleClose:Ee,handleKeydownEscape:ml,toggleMenu:Ne,selectOption:We,getValueKey:Te,navigateOptions:He,dropMenuVisible:el,queryChange:h,groupQueryChange:C,showTagList:we,collapseTagList:gl,reference:u,input:s,iOSInput:c,tooltipRef:d,tags:b,selectWrapper:v,scrollbar:m,handleMouseEnter:()=>{l.mouseEnter=!0},handleMouseLeave:()=>{l.mouseEnter=!1}}};var St=ee({name:"ElOptions",emits:["update-options"],setup(e,{slots:l,emit:n}){let i=[];function r(u,s){if(u.length!==s.length)return!1;for(const[c]of u.entries())if(u[c]!=s[c])return!1;return!0}return()=>{var u,s;const c=(u=l.default)==null?void 0:u.call(l),d=[];function b(v){Array.isArray(v)&&v.forEach(m=>{var f,h,C,a;const g=(f=(m==null?void 0:m.type)||{})==null?void 0:f.name;g==="ElOptionGroup"?b(!Je(m.children)&&!Array.isArray(m.children)&&fe((h=m.children)==null?void 0:h.default)?(C=m.children)==null?void 0:C.default():m.children):g==="ElOption"?d.push((a=m.props)==null?void 0:a.label):Array.isArray(m.children)&&b(m.children)})}return c.length&&b((s=c[0])==null?void 0:s.children),r(d,i)||(i=d,n("update-options",d)),c}}});const Ul="ElSelect",Ot=ee({name:Ul,componentName:Ul,components:{ElInput:Vn,ElSelectMenu:ht,ElOption:$l,ElOptions:St,ElTag:rt,ElScrollbar:Mn,ElTooltip:$n,ElIcon:Ll},directives:{ClickOutside:tt},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:et},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:An.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Pl,default:hn},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:Pl,default:yn},tagType:{...an.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Bn,default:"bottom-start"}},emits:[re,sn,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const n=_("select"),i=_("input"),{t:r}=Ml(),u=yt(e),{optionList:s,optionsArray:c,selectSize:d,readonly:b,handleResize:v,collapseTagSize:m,debouncedOnInputChange:f,debouncedQueryChange:h,deletePrevTag:C,deleteTag:a,deleteSelected:g,handleOptionSelect:T,scrollToOption:$,setSelected:le,resetInputHeight:q,managePlaceholder:Z,showClose:w,selectDisabled:V,iconComponent:R,iconReverse:F,showNewOption:k,emptyText:ve,toggleLastOptionHitState:xe,resetInputState:de,handleComposition:_e,onOptionCreate:el,onOptionDestroy:U,handleMenuEnter:ne,handleFocus:$e,blur:Ae,handleBlur:ye,handleClearClick:Be,handleClose:ll,handleKeydownEscape:nl,toggleMenu:tl,selectOption:ol,getValueKey:il,navigateOptions:sl,dropMenuVisible:ce,reference:me,input:al,iOSInput:De,tooltipRef:Ce,tags:Ve,selectWrapper:Se,scrollbar:be,queryChange:rl,groupQueryChange:ul,handleMouseEnter:dl,handleMouseLeave:Oe,showTagList:cl,collapseTagList:fl}=Ct(e,u,l),{focus:pl}=lt(me),{inputWidth:te,selected:ze,inputLength:vl,filteredOptionsCount:Ee,visible:ml,selectedLabel:Ne,hoverIndex:We,query:Te,inputHovering:bl,currentPlaceholder:we,menuVisibleOnFocus:gl,isOnComposition:He,options:hl,cachedOptions:Al,optionsCount:t,prefixWidth:o}=Qe(u),p=S(()=>{const L=[n.b()],M=A(d);return M&&L.push(n.m(M)),e.disabled&&L.push(n.m("disabled")),L}),y=S(()=>({maxWidth:`${A(te)-32}px`,width:"100%"})),B=S(()=>({maxWidth:`${A(te)>123?A(te)-123:A(te)-75}px`}));nn(Ze,Me({props:e,options:hl,optionsArray:c,cachedOptions:Al,optionsCount:t,filteredOptionsCount:Ee,hoverIndex:We,handleOptionSelect:T,onOptionCreate:el,onOptionDestroy:U,selectWrapper:Se,selected:ze,setSelected:le,queryChange:rl,groupQueryChange:ul})),Ue(()=>{u.cachedPlaceHolder=we.value=e.placeholder||(()=>r("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(we.value=""),ln(Se,v),e.remote&&e.multiple&&q(),W(()=>{const L=me.value&&me.value.$el;if(L&&(te.value=L.getBoundingClientRect().width,l.slots.prefix)){const M=L.querySelector(`.${i.e("prefix")}`);o.value=Math.max(M.getBoundingClientRect().width+11,30)}}),le()}),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(re,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(re,"");const z=S(()=>{var L,M;return(M=(L=Ce.value)==null?void 0:L.popperRef)==null?void 0:M.contentRef});return{isIOS:Cn,onOptionsRendered:L=>{s.value=L},prefixWidth:o,selectSize:d,readonly:b,handleResize:v,collapseTagSize:m,debouncedOnInputChange:f,debouncedQueryChange:h,deletePrevTag:C,deleteTag:a,deleteSelected:g,handleOptionSelect:T,scrollToOption:$,inputWidth:te,selected:ze,inputLength:vl,filteredOptionsCount:Ee,visible:ml,selectedLabel:Ne,hoverIndex:We,query:Te,inputHovering:bl,currentPlaceholder:we,menuVisibleOnFocus:gl,isOnComposition:He,options:hl,resetInputHeight:q,managePlaceholder:Z,showClose:w,selectDisabled:V,iconComponent:R,iconReverse:F,showNewOption:k,emptyText:ve,toggleLastOptionHitState:xe,resetInputState:de,handleComposition:_e,handleMenuEnter:ne,handleFocus:$e,blur:Ae,handleBlur:ye,handleClearClick:Be,handleClose:ll,handleKeydownEscape:nl,toggleMenu:tl,selectOption:ol,getValueKey:il,navigateOptions:sl,dropMenuVisible:ce,focus:pl,reference:me,input:al,iOSInput:De,tooltipRef:Ce,popperPaneRef:z,tags:Ve,selectWrapper:Se,scrollbar:be,wrapperKls:p,selectTagsStyle:y,nsSelect:n,tagTextStyle:B,handleMouseEnter:dl,handleMouseLeave:Oe,showTagList:cl,collapseTagList:fl}}}),Et=["disabled","autocomplete"],Tt=["disabled"],wt={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Lt(e,l,n,i,r,u){const s=ie("el-tag"),c=ie("el-tooltip"),d=ie("el-icon"),b=ie("el-input"),v=ie("el-option"),m=ie("el-options"),f=ie("el-scrollbar"),h=ie("el-select-menu"),C=Sn("click-outside");return he((O(),N("div",{ref:"selectWrapper",class:E(e.wrapperKls),onMouseenter:l[21]||(l[21]=(...a)=>e.handleMouseEnter&&e.handleMouseEnter(...a)),onMouseleave:l[22]||(l[22]=(...a)=>e.handleMouseLeave&&e.handleMouseLeave(...a)),onClick:l[23]||(l[23]=Q((...a)=>e.toggleMenu&&e.toggleMenu(...a),["stop"]))},[X(c,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:I(()=>[D("div",{class:"select-trigger",onMouseenter:l[19]||(l[19]=a=>e.inputHovering=!0),onMouseleave:l[20]||(l[20]=a=>e.inputHovering=!1)},[e.multiple?(O(),N("div",{key:0,ref:"tags",class:E([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:x(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(O(),H(Ye,{key:0,onAfterLeave:e.resetInputHeight},{default:I(()=>[D("span",{class:E([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(O(!0),N(Pe,null,Sl(e.showTagList,a=>(O(),H(s,{key:e.getValueKey(a),closable:!e.selectDisabled&&!a.isDisabled,size:e.collapseTagSize,hit:a.hitState,type:e.tagType,"disable-transitions":"",onClose:g=>e.deleteTag(g,a)},{default:I(()=>[D("span",{class:E(e.nsSelect.e("tags-text")),style:x(e.tagTextStyle)},ae(a.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(O(),H(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:I(()=>[e.collapseTagsTooltip?(O(),H(c,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:I(()=>[D("span",{class:E(e.nsSelect.e("tags-text"))},"+ "+ae(e.selected.length-e.maxCollapseTags),3)]),content:I(()=>[D("div",{class:E(e.nsSelect.e("collapse-tags"))},[(O(!0),N(Pe,null,Sl(e.collapseTagList,a=>(O(),N("div",{key:e.getValueKey(a),class:E(e.nsSelect.e("collapse-tag"))},[X(s,{class:"in-tooltip",closable:!e.selectDisabled&&!a.isDisabled,size:e.collapseTagSize,hit:a.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:g=>e.deleteTag(g,a)},{default:I(()=>[D("span",{class:E(e.nsSelect.e("tags-text")),style:x({maxWidth:e.inputWidth-75+"px"})},ae(a.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(O(),N("span",{key:1,class:E(e.nsSelect.e("tags-text"))},"+ "+ae(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):K("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):K("v-if",!0),e.collapseTags?K("v-if",!0):(O(),H(Ye,{key:1,onAfterLeave:e.resetInputHeight},{default:I(()=>[D("span",{class:E([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}]),style:x(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(O(!0),N(Pe,null,Sl(e.selected,a=>(O(),H(s,{key:e.getValueKey(a),closable:!e.selectDisabled&&!a.isDisabled,size:e.collapseTagSize,hit:a.hitState,type:e.tagType,"disable-transitions":"",onClose:g=>e.deleteTag(g,a)},{default:I(()=>[D("span",{class:E(e.nsSelect.e("tags-text")),style:x({maxWidth:e.inputWidth-75+"px"})},ae(a.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?he((O(),N("input",{key:2,ref:"input","onUpdate:modelValue":l[0]||(l[0]=a=>e.query=a),type:"text",class:E([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:x({marginLeft:`${e.prefixWidth}px`,flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:l[1]||(l[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onBlur:l[2]||(l[2]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onKeyup:l[3]||(l[3]=(...a)=>e.managePlaceholder&&e.managePlaceholder(...a)),onKeydown:[l[4]||(l[4]=(...a)=>e.resetInputState&&e.resetInputState(...a)),l[5]||(l[5]=j(Q(a=>e.navigateOptions("next"),["prevent"]),["down"])),l[6]||(l[6]=j(Q(a=>e.navigateOptions("prev"),["prevent"]),["up"])),l[7]||(l[7]=j((...a)=>e.handleKeydownEscape&&e.handleKeydownEscape(...a),["esc"])),l[8]||(l[8]=j(Q((...a)=>e.selectOption&&e.selectOption(...a),["stop","prevent"]),["enter"])),l[9]||(l[9]=j((...a)=>e.deletePrevTag&&e.deletePrevTag(...a),["delete"])),l[10]||(l[10]=j(a=>e.visible=!1,["tab"]))],onCompositionstart:l[11]||(l[11]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionupdate:l[12]||(l[12]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionend:l[13]||(l[13]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onInput:l[14]||(l[14]=(...a)=>e.debouncedQueryChange&&e.debouncedQueryChange(...a))},null,46,Et)),[[On,e.query]]):K("v-if",!0)],6)):K("v-if",!0),K(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(O(),N("input",{key:1,ref:"iOSInput",class:E([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,Tt)):K("v-if",!0),X(b,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[15]||(l[15]=a=>e.selectedLabel=a),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:E([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[16]||(l[16]=j(Q(a=>e.navigateOptions("next"),["stop","prevent"]),["down"])),l[17]||(l[17]=j(Q(a=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),j(Q(e.selectOption,["stop","prevent"]),["enter"]),j(e.handleKeydownEscape,["esc"]),l[18]||(l[18]=j(a=>e.visible=!1,["tab"]))]},En({suffix:I(()=>[e.iconComponent&&!e.showClose?(O(),H(d,{key:0,class:E([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:I(()=>[(O(),H(Rl(e.iconComponent)))]),_:1},8,["class"])):K("v-if",!0),e.showClose&&e.clearIcon?(O(),H(d,{key:1,class:E([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:I(()=>[(O(),H(Rl(e.clearIcon)))]),_:1},8,["class","onClick"])):K("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:I(()=>[D("div",wt,[J(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:I(()=>[X(h,null,{default:I(()=>[he(X(f,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:E([e.nsSelect.is("empty",!e.allowCreate&&!!e.query&&e.filteredOptionsCount===0)])},{default:I(()=>[e.showNewOption?(O(),H(v,{key:0,value:e.query,created:!0},null,8,["value"])):K("v-if",!0),X(m,{onUpdateOptions:e.onOptionsRendered},{default:I(()=>[J(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[Xe,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(O(),N(Pe,{key:0},[e.$slots.empty?J(e.$slots,"empty",{key:0}):(O(),N("p",{key:1,class:E(e.nsSelect.be("dropdown","empty"))},ae(e.emptyText),3))],64)):K("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[C,e.handleClose,e.popperPaneRef]])}var It=ke(Ot,[["render",Lt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const kt=ee({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const l=_("select"),n=P(!0),i=kl(),r=P([]);nn(rn,Me({...Qe(e)}));const u=Fe(Ze);Ue(()=>{r.value=s(i.subTree)});const s=d=>{const b=[];return Array.isArray(d.children)&&d.children.forEach(v=>{var m;v.type&&v.type.name==="ElOption"&&v.component&&v.component.proxy?b.push(v.component.proxy):(m=v.children)!=null&&m.length&&b.push(...s(v))}),b},{groupQueryChange:c}=je(u);return Y(c,()=>{n.value=r.value.some(d=>d.visible===!0)},{flush:"post"}),{visible:n,ns:l}}});function Mt(e,l,n,i,r,u){return he((O(),N("ul",{class:E(e.ns.be("group","wrap"))},[D("li",{class:E(e.ns.be("group","title"))},ae(e.label),3),D("li",null,[D("ul",{class:E(e.ns.b("group"))},[J(e.$slots,"default")],2)])],2)),[[Xe,e.visible]])}var un=ke(kt,[["render",Mt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Ut=en(It,{Option:$l,OptionGroup:un}),Qt=tn($l);tn(un);function $t(e){let l;const n=P(!1),i=Me({...e,originalPosition:"",originalOverflow:"",visible:!1});function r(f){i.text=f}function u(){const f=i.parent,h=m.ns;if(!f.vLoadingAddClassList){let C=f.getAttribute("loading-number");C=Number.parseInt(C)-1,C?f.setAttribute("loading-number",C.toString()):(Ie(f,h.bm("parent","relative")),f.removeAttribute("loading-number")),Ie(f,h.bm("parent","hidden"))}s(),v.unmount()}function s(){var f,h;(h=(f=m.$el)==null?void 0:f.parentNode)==null||h.removeChild(m.$el)}function c(){var f;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(l),l=window.setTimeout(d,400),i.visible=!1,(f=e.closed)==null||f.call(e))}function d(){if(!n.value)return;const f=i.parent;n.value=!1,f.vLoadingAddClassList=void 0,u()}const b=ee({name:"ElLoading",setup(f,{expose:h}){const{ns:C,zIndex:a}=wn("loading");return h({ns:C,zIndex:a}),()=>{const g=i.spinner||i.svg,T=ge("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...g?{innerHTML:g}:{}},[ge("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),$=i.text?ge("p",{class:C.b("text")},[i.text]):void 0;return ge(Ye,{name:C.b("fade"),onAfterLeave:d},{default:I(()=>[he(X("div",{style:{backgroundColor:i.background||""},class:[C.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[ge("div",{class:C.b("spinner")},[T,$])]),[[Xe,i.visible]])])})}}}),v=Tn(b),m=v.mount(document.createElement("div"));return{...Qe(i),setText:r,removeElLoadingChild:s,close:c,handleAfterLeave:d,vm:m,get $el(){return m.$el}}}let Ke;const At=function(e={}){if(!ue)return;const l=Bt(e);if(l.fullscreen&&Ke)return Ke;const n=$t({...l,closed:()=>{var r;(r=l.closed)==null||r.call(l),l.fullscreen&&(Ke=void 0)}});Dt(l,l.parent,n),Ql(l,l.parent,n),l.parent.vLoadingAddClassList=()=>Ql(l,l.parent,n);let i=l.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",l.parent.setAttribute("loading-number",i),l.parent.appendChild(n.$el),W(()=>n.visible.value=l.visible),l.fullscreen&&(Ke=n),n},Bt=e=>{var l,n,i,r;let u;return Je(e.target)?u=(l=document.querySelector(e.target))!=null?l:document.body:u=e.target||document.body,{parent:u===document.body||e.body?document.body:u,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:u===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(i=e.lock)!=null?i:!1,customClass:e.customClass||"",visible:(r=e.visible)!=null?r:!0,target:u}},Dt=async(e,l,n)=>{const{nextZIndex:i}=n.vm.zIndex||n.vm._.exposed.zIndex,r={};if(e.fullscreen)n.originalPosition.value=pe(document.body,"position"),n.originalOverflow.value=pe(document.body,"overflow"),r.zIndex=i();else if(e.parent===document.body){n.originalPosition.value=pe(document.body,"position"),await W();for(const u of["top","left"]){const s=u==="top"?"scrollTop":"scrollLeft";r[u]=`${e.target.getBoundingClientRect()[u]+document.body[s]+document.documentElement[s]-Number.parseInt(pe(document.body,`margin-${u}`),10)}px`}for(const u of["height","width"])r[u]=`${e.target.getBoundingClientRect()[u]}px`}else n.originalPosition.value=pe(l,"position");for(const[u,s]of Object.entries(r))n.$el.style[u]=s},Ql=(e,l,n)=>{const i=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Ie(l,i.bm("parent","relative")):wl(l,i.bm("parent","relative")),e.fullscreen&&e.lock?wl(l,i.bm("parent","hidden")):Ie(l,i.bm("parent","hidden"))},Il=Symbol("ElLoading"),Xl=(e,l)=>{var n,i,r,u;const s=l.instance,c=f=>Ge(l.value)?l.value[f]:void 0,d=f=>{const h=Je(f)&&(s==null?void 0:s[f])||f;return h&&P(h)},b=f=>d(c(f)||e.getAttribute(`element-loading-${Ln(f)}`)),v=(n=c("fullscreen"))!=null?n:l.modifiers.fullscreen,m={text:b("text"),svg:b("svg"),svgViewBox:b("svgViewBox"),spinner:b("spinner"),background:b("background"),customClass:b("customClass"),fullscreen:v,target:(i=c("target"))!=null?i:v?void 0:e,body:(r=c("body"))!=null?r:l.modifiers.body,lock:(u=c("lock"))!=null?u:l.modifiers.lock};e[Il]={options:m,instance:At(m)}},Vt=(e,l)=>{for(const n of Object.keys(l))xl(l[n])&&(l[n].value=e[n])},Xt={mounted(e,l){l.value&&Xl(e,l)},updated(e,l){const n=e[Il];l.oldValue!==l.value&&(l.value&&!l.oldValue?Xl(e,l):l.value&&l.oldValue?Ge(l.value)&&Vt(l.value,n.options):n==null||n.instance.close())},unmounted(e){var l;(l=e[Il])==null||l.instance.close()}};export{tt as C,Qt as E,Ut as a,Gt as b,jt as c,Fl as d,nt as e,Yt as g,et as i,Ft as u,Xt as v};
